<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>삽입 관련 메서드</title>
    <link rel="stylesheet" href="./css/insert.css">
    <script src="./js/jquery-3.6.0.js"></script>
    <script>
        $(function(){
            let totalNum = $(".vis > div").length; // 전체 노드 개수 (노드 : 문서를 이루는 모든 요소를 통합해서 부르는 용어)
            console.log(totalNum);
            let currentNum = 1; // 현재 순번을 1로 초기화 / 전역 변수로 선언하여 누적됨
            $(".page_n > span:first").text(currentNum); // 현재 순번 표시
            $(".page_n > span:last").text(totalNum); // 전체 순번 표시
            $(".next_b").click(function(){
                currentNum++; // 현재 순번 증가
                if(currentNum > totalNum){
                    currentNum = 1; // 전체 노드 개수보다 클때는 1로 초기화
                }
                $(".page_n > span:first").text(currentNum); // 현재 순번 표시
                $(".vis div:first").insertAfter($(".vis div:last")); // 현재 순번의 노드를 전체 노드 뒤에 삽입
            });
            $(".prev_b").click(function(){
                currentNum--; // 현재 순번 감소
                if(currentNum < 1){
                    currentNum = totalNum; // 전체 노드 개수보다 작을때는 전체 노드 개수로 초기화
                }
                $(".page_n > span:first").text(currentNum); // 현재 순번 표시
                $(".vis div:last").insertBefore($(".vis div:first")); // 첫번째 노드를 마지막 노드로 이동
            });
        });
    </script>
</head>
<body>
    <div id="wrap">
        <div class="page">
            <span class="page_n">
                <span></span> / <span></span>
            </span>
            <button class="prev_b">&lt; 이전</button>
            <button class="next_b">&gt; 다음</button>
        </div>
        <div class="vis">
            <div><a href="#"><img src="./images/1.jpg" alt="HTML"></a></div>
            <div><a href="#"><img src="./images/2.jpg" alt="CSS"></a></div>
            <div><a href="#"><img src="./images/3.jpg" alt="Javascript"></a></div>
            <div><a href="#"><img src="./images/4.jpg" alt="jQuery"></a></div>
        </div>
    </div>
</body>
</html>